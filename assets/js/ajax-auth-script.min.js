function InitializeRecaptcha(){if(jQuery(".g-recaptcha").length){var a=jQuery(".g-recaptcha").data("sitekey");grecaptcha.render("myCaptcha",{sitekey:a,theme:ajax_auth_object.recaptchatheme})}}function swalwriteCookie(a,e,s){var t;if(s){var r=new Date;r.setTime(r.getTime()+1e3*s),t="; expires="+r.toGMTString()}else t="";document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(e)+t+"; path=/"}function swalgetCookie(a){for(var e=encodeURIComponent(a)+"=",s=document.cookie.split(";"),t=0;t<s.length;t++){for(var r=s[t];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return decodeURIComponent(r.substring(e.length,r.length))}return null}function eraseCookie(a){swalwriteCookie(a,"",-1)}jQuery(document).ready(function(a){function e(e,s){var t=e+"-p-"+s,r=0;a(t).children().each(function(){r+=a(this).actual("outerHeight",{includeMargin:!0})}),a(t).parent().animate({height:r+60},300,"easeInOutQuad")}if(a("form#swal-login, form#swal-register").on("submit",function(e){if(e.preventDefault(),!a(this).valid())return!1;u(ajax_auth_object.loadingmessage,'<div class="swal-loading-css-big-relative"></div>',!1),action="",recaptcha_version="",token="",redirect="";var s,t="action",r=(s=a(this).serialize()).replace(RegExp(`&${t}=[^&]*|${t}=[^&]*&`),"");"swal-login"==a(this).attr("id")?h(action="ajaxlogin",redirect=a("form#swal-login #redirect_to").val(),r,token):"swal-register"==a(this).attr("id")&&(action="ajaxregister",recaptcha_version=a("#swal_recaptcha_register_version").val(),redirect=a("form#swal-register #swal_register_page_to_redirect").val(),"1"==ajax_auth_object.enablerecaptcha?"1"==recaptcha_version?grecaptcha.ready(function(){grecaptcha.execute(ajax_auth_object.recaptchakey,{action:"register"}).then(function(a){h(action,redirect,r,a)})}):"0"==recaptcha_version&&h(action,redirect,r,token):h(action,redirect,r,token))}),a("form#forgot_password").on("submit",function(e){if(e.preventDefault(),!a(this).valid())return!1;u(ajax_auth_object.loadingmessage,'<div class="swal-loading-css-big-relative"></div>',!1),a("p.status").fadeOut("normal");var s=a("#forgot_password button");return s.attr("disabled","disabled").addClass("disabled"),form=a(this),a.ajax({type:"POST",dataType:"json",url:ajax_auth_object.ajaxurl,data:{action:"ajaxforgotpassword",user_login:a("#user_login").val(),security:a("#forgotsecurity").val()},success:function(a){!0==a.loggedin?u(a.message,'<i class="fa fa-check"></i>',!0):u(a.message,'<i class="fa fa-exclamation"></i>',!0),s.removeAttr("disabled").removeClass("disabled")}}),!1}),a("form#resetPasswordForm").on("submit",function(e){if(e.preventDefault(),!a(this).valid())return!1;u(ajax_auth_object.loadingmessage,'<div class="swal-loading-css-big-relative"></div>',!1);var s=a("div#resetPassword #wp-submit"),t=a("div#resetPassword #message");return s.attr("disabled","disabled").addClass("disabled"),t.fadeOut(200),a.ajax({type:"POST",dataType:"json",url:ajax_auth_object.ajaxurl,data:{action:"reset_pass",resetsecurity:a("#resetsecurity").val(),pass1:a("#pass1").val(),pass2:a("#pass2").val(),user_key:a("#user_key").val(),user_login_reset:a("#user_login_reset").val()},success:function(e){s.removeAttr("disabled").removeClass("disabled"),!0==e.loggedin?(u(e.message,'<i class="fa fa-check"></i>',!1),document.location.href=ajax_auth_object.redirecturllogin+"/?password=changed"):(a("html, body").stop().animate({scrollTop:a('[id="message"]').offset().top-100},500),t.html(e.message).fadeIn("normal"),w())},error:function(){u(ajax_auth_object.facebook_error_2,'<i class="fa fa-exclamation"></i>',!0),s.removeAttr("disabled").removeClass("disabled")}}),!1}),a("body").on("keyup","input[name=pass1], input[name=pass2]",function(e){!function a(e,s,t,r,o){var i=e.val(),l=s.val();r.attr("disabled","disabled"),t.removeClass("short bad good strong"),o=o.concat(wp.passwordStrength.userInputBlacklist());var n=wp.passwordStrength.meter(i,o,l);switch(n){case 2:t.addClass("bad").html(pwsL10n.bad);break;case 3:t.addClass("good").html(pwsL10n.good);break;case 4:t.addClass("strong").html(pwsL10n.strong);break;case 5:t.addClass("short").html(pwsL10n.mismatch);break;default:t.addClass("short").html(pwsL10n.short)}return 4===n&&""!==l.trim()&&r.removeAttr("disabled"),n}(a("input[name=pass1]"),a("input[name=pass2]"),a("#password-strength"),a("input[type=submit]"),["black","listed","word"])}),jQuery("#swal-register").length&&jQuery("#swal-register").validate({ignore:":hidden",rules:{password2:{equalTo:"#signonpassword"}}}),jQuery("#resetPasswordForm").length?jQuery("#resetPasswordForm").validate({rules:{pass2:{equalTo:"#pass1"}}}):jQuery("#swal-login").length&&jQuery("#swal-login").validate(),jQuery("#forgot_password").length&&jQuery("#forgot_password").validate(),a(".fb-login-button").length&&(a.ajaxSetup({cache:!0}),a.getScript("https://connect.facebook.net/"+ajax_auth_object.locale+"/sdk.js",function(){FB.init({appId:ajax_auth_object.facebook_id,cookie:!0,xfbml:!0,version:"v15.0"})})),function s(){if(!a("#swal-register section").length)return!1;var t=a("#swal-register"),r="#swal_wrapper_register_fields";return a(r).steps({headerTag:"h3",bodyTag:"section",transitionEffect:parseInt(swal_steps_object.swal_step_transition),enableFinishButton:!1,transitionEffectSpeed:300,labels:{next:swal_steps_object.swal_next,previous:swal_steps_object.swal_previous},titleTemplate:'<span class="number">#index#.</span> <span class="title">#title#</span>',onInit:function(a,s){e(r,s)},onStepChanging:function(e,s,r){return t.validate().settings.ignore=":disabled,:hidden",!!a(t).valid()&&t.valid()},onStepChanged:function(a,s,t){e(r,s)}}),!1}(),a("#swal_billing_country").length&&a("#swal_billing_state_field").length&&a("#swal_billing_country").on("change",function(e){a(this).fadeTo(200,.4,function(){a(this).attr("disabled",!0)});var s=a(this).val();return a.ajax({type:"POST",url:ajax_auth_object.ajaxurl+"?action=swal-getstates",data:{country:s},success:function(e){a("#swal-wrapper_billing_state").replaceWith(e),a("#swal_billing_country").fadeTo(200,1,function(){a(this).attr("disabled",!1)})}}),!1}),"undefined"!=typeof ajax_auto_popup_object&&ajax_auto_popup_object.swal_enable_autopopup){if(!jQuery(".wrapper-ajax-forms").length)return!0;var s=ajax_auto_popup_object.swal_autopopup_delay;null==swalgetCookie("swal_no_autoopen_delay")&&setTimeout(i,s)}if("undefined"!=typeof ajax_auto_popup_qs&&"login"==ajax_auto_popup_qs.swal_autopopup_by_querystring){if(!jQuery(".wrapper-ajax-forms").length)return!0;setTimeout(i,500)}if("undefined"!=typeof ajax_auto_popup_qs&&"register"==ajax_auto_popup_qs.swal_autopopup_by_querystring){if(!jQuery(".wrapper-ajax-forms").length)return!0;setTimeout(l,500)}if("undefined"!=typeof ajax_auto_popup_qs&&"lostpassword"==ajax_auto_popup_qs.swal_autopopup_by_querystring){if(!jQuery(".wrapper-ajax-forms").length)return!0;setTimeout(n,500)}function t(){FB.getLoginStatus(function(e){var s;"connected"===(s=e).status?(a("#fblogin").hide(),o()):"not_authorized"===s.status?a("#status").html("Please log into this app."):a("#status").html("Please log into facebook")})}function r(){FB.logout(function(a){})}function o(){FB.api("/me",{fields:"first_name,last_name,email,hometown,link,picture"},function(e){a.ajax({type:"POST",dataType:"json",data:e,url:ajax_auth_object.ajaxurl+"?action=swal-fblogin",success:function(a){!0==a.loggedin?!1==a.execlogin?(u(a.message,'<i class="fa fa-check"></i>',!0),f(ajax_auth_object.registermessage,".swal_login_form_message"),submit.removeAttr("disabled").removeClass("disabled"),p()):(u(a.message,'<i class="fa fa-check"></i>',!0),document.location.href=ajax_auth_object.redirecturl,g()):u(a.message,'<i class="fa fa-exclamation"></i>',!0)}})})}function i(){jQuery(".swal_form_tabs").length&&(jQuery(".swal_form_tabs a").removeClass("active"),jQuery(".pop_login").addClass("active"));var a=ajax_auth_object.ajaxurl+"?action=getLoginForms";(jQuery("#popup-wrapper-ajax-auth #swal-login").length||jQuery("#popup-wrapper-ajax-auth .wrapper-logout").length)&&d(a,!1)}function l(){jQuery(".swal_form_tabs").length&&(jQuery(".swal_form_tabs a").removeClass("active"),jQuery("#pop_signup").addClass("active"));var e,s,t,r=ajax_auth_object.ajaxurl+"?action=getLoginForms";(jQuery("#popup-wrapper-ajax-auth #swal-register").length||jQuery("#popup-wrapper-ajax-auth .wrapper-logout").length)&&(e=a("#sw-wrapper-ajax-login #wrapper-login"),s=a("#sw-wrapper-ajax-login #wrapper-forgot_password"),t=a("#sw-wrapper-ajax-login #wrapper-register"),e.hide(),s.hide(),t.show(),d(r,!1))}function n(){jQuery(".swal_form_tabs").length&&(jQuery(".swal_form_tabs a").removeClass("active"),jQuery(".pop_login").addClass("active"));var e,s,t,r=ajax_auth_object.ajaxurl+"?action=getLoginForms";(jQuery("#popup-wrapper-ajax-auth #forgot_password").length||jQuery("#popup-wrapper-ajax-auth .wrapper-logout").length)&&(e=a("#sw-wrapper-ajax-login #wrapper-login"),s=a("#sw-wrapper-ajax-login #wrapper-register"),t=a("#sw-wrapper-ajax-login #wrapper-forgot_password"),e.hide(),s.hide(),t.show(),d(r,!1))}function p(){var e=a("#sw-wrapper-ajax-login #wrapper-register"),s=a("#sw-wrapper-ajax-login #wrapper-forgot_password"),t=a("#sw-wrapper-ajax-login #wrapper-login");e.hide(),s.hide(),t.show()}function d(e,s){var t;return recaptcha_version=a("#swal_recaptcha_register_version").val(),t=s,a("body").css("overflow","hidden"),a(".login_overlay").addClass("swal-overlay-open"),a(".swal-popup-animation").addClass("swal-ready"),"0"==recaptcha_version&&grecaptcha.reset(),!1}function g(){a(".swal-popup-animation").addClass("swal-closing"),a(".swal-popup-animation").removeClass("swal-ready")}function c(){a(".login_overlay").removeClass("swal-closing"),a(".swal-popup-animation").removeClass("swal-closing"),a("body").css("overflow","auto"),p()}function u(e,s,t){fadeout="",t&&(fadeout=" fadeout"),a(".swal-toast").length?(a(".swal-toast").html(s+e),t&&a(".swal-toast").delay(ajax_auth_object.swal_loader_persistence).fadeOut("slow",function(){a(this).remove()})):(a("body").append(a('<div class="swal-toast'+fadeout+'">'+s+e+"</div>").hide().fadeIn("normal")),a(".fadeout").delay(ajax_auth_object.swal_loader_persistence).fadeOut("slow",function(){a(this).remove()}))}function w(){a(".swal-toast").fadeOut("slow",function(){a(this).remove()})}function f(e,s){var t,r;a(s).length&&(a(s).html((t=e,(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(r||void 0===r?"<br/>":"<br>")+"$2"))),a(s).hide().fadeIn("normal"))}function h(e,s,t,r){var o=a("form#swal-login button, form#swal-register button");o.attr("disabled","disabled").addClass("disabled");var i=a("#swal_recaptcha_register_version").val();return t=t+"&action="+e,""!=r&&(t=t+"&g-recaptcha-response="+r),a.ajax({type:"POST",dataType:"json",url:ajax_auth_object.ajaxurl,data:t,success:function(e){var t;!0==e.loggedin?(u(e.message,'<i class="fa fa-check"></i>',!0),s?"show_message"==s||a("#swal-register-form-wrapper").length&&"go_to_login"==s?(f(ajax_auth_object.registermessage,"#swal_register_form_message"),a("#swal_wrapper_register_fields").fadeOut("normal"),o.removeAttr("disabled").removeClass("disabled")):"go_to_login"!=s||a("#swal-register-form-wrapper").length?(document.location=s,g()):(f(ajax_auth_object.registermessage,".swal_login_form_message"),o.removeAttr("disabled").removeClass("disabled"),p()):(document.location=ajax_auth_object.redirecturl,g())):("0"==i&&grecaptcha.reset(),"2fa_required"==e.message?(t='<label for="username">'+ajax_auth_object.swal_2fa_label+'</label><div><input type="text" id="swal_2fa_code" name="swal_2fa_code" class="required" autocomplete="off"/><a href="#" class="swal_reset_2fa"><i class="fa fa-arrow-left" aria-hidden="true"></i> '+ajax_auth_object.swal_2fa_back+"</a></div>",a(".swal_2fa_wrapper").length&&(a(".swal-login-fields").hide(),a(".swal_2fa_wrapper").append(t).hide().fadeIn(500),w())):u(e.message,'<i class="fa fa-exclamation"></i>',!0),o.removeAttr("disabled").removeClass("disabled"))}}),!1}a("body").on("click",".fb-login-button",function(){return u(ajax_auth_object.loadingmessage,'<div class="swal-loading-css-big-relative"></div>',!1),FB.login(function(a){a.authResponse?o():u(ajax_auth_object.facebook_error_1,'<i class="fa fa-exclamation"></i>',!0)},{scope:"public_profile,email"}),!1}),a("body").on("click",".twitter-login-button",function(e){return e.preventDefault,u(ajax_auth_object.loadingmessage,'<div class="swal-loading-css-big-relative"></div>',!1),a.ajax({type:"POST",dataType:"json",data:response,url:ajax_auth_object.ajaxurl+"?action=swal-twlogin",success:function(a){!0==a.loggedin?(u(a.message,'<i class="fa fa-check"></i>',!0),document.location.href=ajax_auth_object.redirecturl,g()):u(a.message,'<i class="fa fa-exclamation"></i>',!0)}}),!1}),a("body").on("click",".swal-login-button",function(a){u(ajax_auth_object.loadingmessage,'<div class="swal-loading-css-big-relative"></div>',!1)}),a(".sw-open-login").click(function(e){if(a(this),!jQuery(".wrapper-ajax-forms").length||a(this).closest("#popup-wrapper-ajax-auth").length>0)return!0;e.preventDefault(),i()}),a(".sw-open-register").click(function(e){if(a(this),!a(".wrapper-ajax-forms").length||a(this).closest("#popup-wrapper-ajax-auth").length>0)return!0;e.preventDefault(),l()}),a(".sw-open-forgot-password").click(function(e){if(a(this),!a(".wrapper-ajax-forms").length||a(this).closest("#popup-wrapper-ajax-auth").length>0)return!0;e.preventDefault(),n()}),a(".swal-logout-menu-item,.open_logout,.woocommerce-MyAccount-navigation-link--customer-logout").click(function(a){a.preventDefault(),d(ajax_auth_object.ajaxurl+"?action=getLoginForms",!1)}),a("body").on("click","#popup-wrapper-ajax-auth",function(a){a.stopPropagation()}),a("body").on("click","#sw-wrapper-ajax-login .pop_login, #sw-wrapper-ajax-login #pop_signup, #sw-wrapper-ajax-login #pop_forgot",function(e){e.preventDefault(),formToFadeOut=a("#sw-wrapper-ajax-login #wrapper-forgot_password"),formToFadeOut2=a("#sw-wrapper-ajax-login #wrapper-register"),formtoFadeIn=a("#sw-wrapper-ajax-login #wrapper-login"),a(".swal_form_tabs").length&&a(".swal_form_tabs a").removeClass("active"),a(this).hasClass("pop_login")&&(a(".swal_form_tabs").length&&a(this).addClass("active"),formToFadeOut=a("#sw-wrapper-ajax-login #wrapper-forgot_password"),formToFadeOut2=a("#sw-wrapper-ajax-login #wrapper-register").length?a("#sw-wrapper-ajax-login #wrapper-register"):"",formtoFadeIn=a("#sw-wrapper-ajax-login #wrapper-login")),"pop_signup"==a(this).attr("id")&&(a(".swal_form_tabs").length&&a(this).addClass("active"),formToFadeOut=a("#sw-wrapper-ajax-login #wrapper-login"),formToFadeOut2=a("#sw-wrapper-ajax-login #wrapper-forgot_password"),formtoFadeIn=a("#sw-wrapper-ajax-login #wrapper-register")),"pop_forgot"==a(this).attr("id")&&(a(".swal_form_tabs").length&&a(".pop_login").addClass("active"),formToFadeOut=a("#sw-wrapper-ajax-login #wrapper-login"),formToFadeOut2=a("#sw-wrapper-ajax-login #wrapper-register").length?a("#sw-wrapper-ajax-login #wrapper-register"):"",formtoFadeIn=a("#sw-wrapper-ajax-login #wrapper-forgot_password")),formToFadeOut2?0==ajax_auth_object.swal_disable_fade?formToFadeOut2.fadeOut(300,function(){formToFadeOut.fadeOut(300,function(){formtoFadeIn.fadeIn(300)})}):(formToFadeOut2.hide(),formToFadeOut.hide(),formtoFadeIn.show()):formToFadeOut.fadeOut(300,function(){formtoFadeIn.fadeIn(300)})}),a("body").on("click",".add-loader-onclick",function(){a(this).append("<div class='loading-css'></div>")}),a("body").on("click",".close-popup, div.login_overlay",function(e){if(e.preventDefault(),a(".login_overlay").addClass("swal-closing"),a(".login_overlay").removeClass("swal-overlay-open"),a(".swal-popup-animation").addClass("swal-closing"),a(".swal-popup-animation").removeClass("swal-ready"),setTimeout(c,350),"undefined"==typeof ajax_auto_popup_object)return!1;null==swalgetCookie("swal_no_autoopen_delay")&&swalwriteCookie("swal_no_autoopen_delay",!0,ajax_auto_popup_object.swal_autopopup_autoopen_delay)}),a("body").on("click",".swal-toggle-password",function(e){a(this).toggleClass("fa-eye fa-eye-slash");var s=a(a(this).attr("toggle"));"password"==s.attr("type")?s.attr("type","text"):s.attr("type","password")}),a("body").on("click","#logout-button",function(a){a.preventDefault(),u(ajax_auth_object.logoutmessage,'<div class="swal-loading-css-big-relative"></div>',!1),document.location.href=ajax_auth_object.redirecturllogout,g()}),a("body").on("click",".swal_reset_2fa",function(e){e.preventDefault(),a(".swal_2fa_wrapper").empty(),a("#swal_2fa_code").attr("value",""),a("#password").attr("value",""),a(".swal-login-fields").fadeIn(500)})});